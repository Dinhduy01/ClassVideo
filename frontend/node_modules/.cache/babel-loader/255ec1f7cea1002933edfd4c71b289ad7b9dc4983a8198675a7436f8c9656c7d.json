{"ast":null,"code":"import React,{useState}from'react';import{LiveKitRoom,VideoConference,RoomAudioRenderer}from'@livekit/components-react';// Import the CSS styles directly\nimport'@livekit/components-styles/dist/index.css';import'./VideoRoom.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const VideoRoom=_ref=>{let{token,url,roomName,participantName,onLeaveRoom}=_ref;const[error,setError]=useState('');// Handle connection errors\nconst handleError=err=>{console.error('Error connecting to LiveKit:',err);setError(err.message||'Failed to connect to room');};// Handle when the room is disconnected\nconst handleDisconnected=()=>{console.log('Disconnected from room');onLeaveRoom();};return/*#__PURE__*/_jsxs(\"div\",{className:\"video-room\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"room-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:roomName})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(LiveKitRoom,{token:token,serverUrl:url,options:{adaptiveStream:true,dynacast:true},video:true,audio:true,onDisconnected:handleDisconnected,onError:handleError,className:\"livekit-container\",children:[/*#__PURE__*/_jsx(VideoConference,{}),/*#__PURE__*/_jsx(RoomAudioRenderer,{})]})]});};","map":{"version":3,"names":["React","useState","LiveKitRoom","VideoConference","RoomAudioRenderer","jsx","_jsx","jsxs","_jsxs","VideoRoom","_ref","token","url","roomName","participantName","onLeaveRoom","error","setError","handleError","err","console","message","handleDisconnected","log","className","children","serverUrl","options","adaptiveStream","dynacast","video","audio","onDisconnected","onError"],"sources":["C:/Users/dinhd/Desktop/Test/frontend/src/components/VideoRoom.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  LiveKitRoom,\r\n  VideoConference,\r\n  RoomAudioRenderer,\r\n} from '@livekit/components-react';\r\n\r\n// Import the CSS styles directly\r\nimport '@livekit/components-styles/dist/index.css';\r\nimport './VideoRoom.css';\r\n\r\nexport const VideoRoom = ({ token, url, roomName, participantName, onLeaveRoom }) => {\r\n  const [error, setError] = useState('');\r\n\r\n  // Handle connection errors\r\n  const handleError = (err) => {\r\n    console.error('Error connecting to LiveKit:', err);\r\n    setError(err.message || 'Failed to connect to room');\r\n  };\r\n\r\n  // Handle when the room is disconnected\r\n  const handleDisconnected = () => {\r\n    console.log('Disconnected from room');\r\n    onLeaveRoom();\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-room\">\r\n      <div className=\"room-header\">\r\n        <h2>{roomName}</h2>\r\n      </div>\r\n\r\n      {error && <div className=\"error\">{error}</div>}\r\n\r\n      <LiveKitRoom\r\n        token={token}\r\n        serverUrl={url}\r\n        options={{\r\n          adaptiveStream: true,\r\n          dynacast: true,\r\n        }}\r\n        video={true}\r\n        audio={true}\r\n        onDisconnected={handleDisconnected}\r\n        onError={handleError}\r\n        className=\"livekit-container\"\r\n      >\r\n        <VideoConference />\r\n        <RoomAudioRenderer />\r\n      </LiveKitRoom>\r\n    </div>\r\n  );\r\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACEC,WAAW,CACXC,eAAe,CACfC,iBAAiB,KACZ,2BAA2B,CAElC;AACA,MAAO,2CAA2C,CAClD,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,MAAO,MAAM,CAAAC,SAAS,CAAGC,IAAA,EAA4D,IAA3D,CAAEC,KAAK,CAAEC,GAAG,CAAEC,QAAQ,CAAEC,eAAe,CAAEC,WAAY,CAAC,CAAAL,IAAA,CAC9E,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACA,KAAM,CAAAiB,WAAW,CAAIC,GAAG,EAAK,CAC3BC,OAAO,CAACJ,KAAK,CAAC,8BAA8B,CAAEG,GAAG,CAAC,CAClDF,QAAQ,CAACE,GAAG,CAACE,OAAO,EAAI,2BAA2B,CAAC,CACtD,CAAC,CAED;AACA,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/BF,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAC,CACrCR,WAAW,CAAC,CAAC,CACf,CAAC,CAED,mBACEP,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnB,IAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BnB,IAAA,OAAAmB,QAAA,CAAKZ,QAAQ,CAAK,CAAC,CAChB,CAAC,CAELG,KAAK,eAAIV,IAAA,QAAKkB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAET,KAAK,CAAM,CAAC,cAE9CR,KAAA,CAACN,WAAW,EACVS,KAAK,CAAEA,KAAM,CACbe,SAAS,CAAEd,GAAI,CACfe,OAAO,CAAE,CACPC,cAAc,CAAE,IAAI,CACpBC,QAAQ,CAAE,IACZ,CAAE,CACFC,KAAK,CAAE,IAAK,CACZC,KAAK,CAAE,IAAK,CACZC,cAAc,CAAEV,kBAAmB,CACnCW,OAAO,CAAEf,WAAY,CACrBM,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAE7BnB,IAAA,CAACH,eAAe,GAAE,CAAC,cACnBG,IAAA,CAACF,iBAAiB,GAAE,CAAC,EACV,CAAC,EACX,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}